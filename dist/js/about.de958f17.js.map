{"version":3,"file":"js/about.de958f17.js","mappings":"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","sources":["webpack://restoroulette/./src/views/AboutView.vue","webpack://restoroulette/./src/components/CustomViewer.vue","webpack://restoroulette/src/components/CustomViewer.vue","webpack://restoroulette/./src/components/CustomViewer.vue?ebc2","webpack://restoroulette/./src/components/CustomViewer.vue?03b8","webpack://restoroulette/src/views/AboutView.vue","webpack://restoroulette/./src/views/AboutView.vue?aa2a","webpack://restoroulette/./src/views/AboutView.vue?296c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('CustomViewer',{attrs:{\"msg\":\"показать только с бизнес-ланчем \"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-3\",staticStyle:{\"height\":\"75vh\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('h6',{staticClass:\"m-1\"},[_vm._v(\"только с бизнес-ланчем \")]),_c('b-form-checkbox',{model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('b-table',{staticClass:\"mb-2 mt-2\",attrs:{\"items\":_vm.filteredRestaurants,\"fields\":_vm.visibleFields,\"striped\":\"\",\"hover\":\"\"},on:{\"row-clicked\":_vm.onRowClicked},scopedSlots:_vm._u([{key:\"cell(business_lunch)\",fn:function(data){return [_c('span',[_vm._v(_vm._s(data.item.business_lunch ? 'есть' : 'нет'))])]}},{key:\"cell(distance)\",fn:function(data){return [(data.item.distance == 0)?_c('span',[_vm._v(\"-\")]):_c('span',[_vm._v(_vm._s(data.item.distance))])]}},{key:\"cell(price)\",fn:function(data){return [(data.item.price == 0)?_c('span',[_vm._v(\"-\")]):_c('span',[_vm._v(_vm._s(data.item.price))])]}},{key:\"cell(time)\",fn:function(data){return [(data.item.time == 0)?_c('span',[_vm._v(\"-\")]):_c('span',[_vm._v(_vm._s(data.item.time))])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"m-3\" style=\"height: 75vh; overflow-y: auto;\">\n    <div class=\"d-flex justify-content-center\">\n      <h6 class=\"m-1\">только с бизнес-ланчем </h6><b-form-checkbox v-model=\"selected\"></b-form-checkbox>\n    </div>\n    <b-table\n      class=\"mb-2 mt-2\"\n      :items=\"filteredRestaurants\"\n      :fields=\"visibleFields\"\n      striped hover\n      @row-clicked=\"onRowClicked\"\n    >\n      <template v-slot:cell(business_lunch)=\"data\">\n        <span>{{ data.item.business_lunch ? 'есть' : 'нет' }}</span>\n      </template>\n      <template v-slot:cell(distance)=\"data\">\n        <span v-if=\"data.item.distance == 0\">-</span>\n        <span v-else>{{data.item.distance}}</span>\n      </template>\n      <template v-slot:cell(price)=\"data\">\n        <span v-if=\"data.item.price == 0\">-</span>\n        <span v-else>{{data.item.price}}</span>\n      </template>\n      <template v-slot:cell(time)=\"data\">\n        <span v-if=\"data.item.time == 0\">-</span>\n        <span v-else>{{data.item.time}}</span>\n      </template>\n    </b-table>\n  </div>\n</template>\n \n<script>\n\nexport default {\n  name: 'CustomViewer',\n    props: {\n    msg: String\n  },\n  data () {\n    return {\n      // настраеваем что будет видеть пользователь в таблице\n      fields: [\n        { key: 'name', label: 'Название', visible: true},\n        { key: 'address', label: 'Адрес', visible: true},\n        { key: 'business_lunch', label: 'Б.ланч', visible: true},\n        { key: 'cuisine', label: 'Кухня', visible: true},\n        { key: 'distance', label: 'Расстояние', visible: true},\n        { key: 'landmark', label: 'Расположение', visible: true},\n        { key: 'price', label: 'Чек', visible: true},\n        { key: 'time', label: 'Время в пути', visible: true},\n      ],\n      screenWidth: window.innerWidth,\n    }\n  },\n  created() {\n    // инициализируем все необходимое для работы\n    this.init();\n    window.addEventListener('resize', this.handleResize);\n  },  \n  destroyed() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  computed: {\n    idRestaurant() {\n      return this.$store.state.idRestaurant;\n    },\n    restaurants() {\n      return this.$store.state.restaurants;\n    },\n    visibleFields() {\n      return this.fields.filter(field => field.visible);\n    },\n    filteredRestaurants() {\n      if (this.selected) {\n        return this.restaurants.filter(restaurant => restaurant.business_lunch === true);\n      } else {\n        return this.restaurants;\n      }\n    },\n    selected: {\n      get() {\n        return this.$store.state.selected;\n      },\n      set(value) {\n        this.$store.commit('SET_SELECTED', value);\n      }\n    }\n  },\n  watch: {\n    idRestaurant() {\n      this.$router.push('/');\n      this.findRestaurant();\n    },\n  },\n  methods: {\n    async init() {\n      this.handleResize()\n      if (this.restaurants.length === 0) {\n        await this.$store.dispatch('fetchRestaurants');\n      }\n    },\n    // получаем стейт row по клику на него в списке\n    onRowClicked(item) {\n      this.$store.commit('SET_ID_RESTAURANT', item.id);\n    },\n    async findRestaurant() {\n      await this.$store.dispatch('getRestorauntById');\n    },\n    // если ресайзим окно в минус 900 то меняем отображение колонк - их слишком много для маленького окна\n    handleResize() {\n      this.screenWidth = window.innerWidth;\n      if (this.screenWidth < 900) {\n        this.fields.forEach(field => {\n          if (field.key !== 'name' && field.key !== 'address' && field.key !== 'business_lunch') {\n            field.visible = false;\n          }\n        });\n      } else {\n        this.fields.forEach(field => {field.visible = true});\n      }\n    },\n  }\n}\n</script>\n \n<style scoped>\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomViewer.vue?vue&type=template&id=cf53549c&scoped=true&\"\nimport script from \"./CustomViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf53549c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"about\">\n    <CustomViewer msg=\"показать только с бизнес-ланчем \"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport CustomViewer from '@/components/CustomViewer.vue'\n\nexport default {\n  name: 'HomeView',\n  components: {\n    CustomViewer\n  }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AboutView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AboutView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutView.vue?vue&type=template&id=8f51dc9c&\"\nimport script from \"./AboutView.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticRenderFns","staticStyle","_v","model","value","selected","callback","$$v","expression","filteredRestaurants","visibleFields","on","onRowClicked","scopedSlots","_u","key","fn","data","_s","item","business_lunch","distance","price","time","name","props","msg","String","fields","label","visible","screenWidth","window","innerWidth","created","init","addEventListener","handleResize","destroyed","removeEventListener","computed","idRestaurant","$store","state","restaurants","filter","field","restaurant","get","set","commit","watch","$router","push","findRestaurant","methods","length","dispatch","id","forEach","component","components","CustomViewer"],"sourceRoot":""}